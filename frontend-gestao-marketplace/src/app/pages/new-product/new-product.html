<form class="w-full py-7 px-14 flex flex-col gap-6" [formGroup]="productForm" (ngSubmit)="saveProduct()">
  <div>
    <h2 class="font-bold">Novo produto</h2>
    <h4 class="font-light text-xs text-gray-600">Cadastre um produto para venda no marketplace</h4>
  </div>
  <div class="flex gap-4 items-start">
    <label for="image-upload-input" role="button"
      class="p-16 cursor-pointer rounded-4xl w-1/3 flex flex-col justify-center items-center gap-4 bg-[#F5EAEA]">
      <img src="image-upload.svg" alt="Ícone de upload de imagem" />
      <p class="text-gray-600 text-center">Selecione a imagem <br /> do produto</p>
    </label>
    <input id="image-upload-input" type="file" class="hidden" accept=".png, .jpg, .jpeg"
      (change)="onSelectFile($event)" />
    <div class="p-8 bg-white rounded-4xl flex-1 flex flex-col gap-7">
      <h3 class="text-gray-500 font-medium">Dados do produto</h3>

      <div class="flex flex-col gap-5">
        <div class="flex">
          <div class="flex flex-col gap-2 border-b border-gray-300 pb-2 w-4/5 mr-6">
            <label for="input-title" class="text-gray-600 text-xs">TÍTULO</label>
            <input id="input-title" class="text-gray-400 text-sm focus:outline-none" type="text" placeholder="Nome do produto"
              formControlName="title" />
          </div>

          <div class="flex flex-col gap-2 border-b border-gray-300 pb-2 flex-1">
            <label for="input-price" class="text-gray-600 text-xs">VALOR</label>
            <div class="flex gap-2">
              <span>R$</span>
              <input id="input-price" class="text-gray-400 text-sm focus:outline-none" type="number" placeholder="0,00"
                formControlName="price" />
            </div>
          </div>
        </div>

        <div class="flex flex-col gap-2 border-b border-gray-300 pb-2 flex-1">
          <label for="description" class="text-gray-600 text-xs">DESCRIÇÃO</label>
          <input id="description" class="text-gray-400 text-sm focus:outline-none" type="text"
            placeholder="Escreva detalhes sobre o produto, tamanho, características" formControlName="description" />
        </div>

        <div class="flex flex-col gap-2 border-b border-gray-300 pb-2 flex-1">
          <label for="select-category" class="text-gray-600 text-xs">CATEGORIA</label>
          <select id="select-category" class="w-full bg-white text-gray-400 text-sm focus:outline-none" formControlName="category">
            <option value="" disabled selected hidden>Selecione</option>
            <option value="Móvel">Móvel</option>
            <option value="Papelaria">Papelaria</option>
            <option value="Saúde & Beleza">Saúde & Beleza</option>
            <option value="Utensílio">Utensílio</option>
            <option value="Vestuário">Vestuário</option>
          </select>
        </div>
      </div>

      <div class="w-full flex gap-4">
        <button type="button" class="flex flex-1 justify-center p-3 rounded-lg border-[#F24D0D] border-1 bg-white cursor-pointer active:scale-105 duration-200 
    ease-in-out transition" routerLink="/products">
          <span class="text-[#F24D0D] text-sm">Cancelar</span>
        </button>

        <button type="submit" [class]="`
          flex flex-1 justify-center p-3 rounded-lg 
          ${!(productForm.valid && productImageBase64) ? 'bg-gray-500 cursor-default' : 'cursor-pointer bg-[#F24D0D] active:scale-105 duration-200 ease-in-out transition'}
        `" [disabled]="!(productForm.valid && productImageBase64)">
          <span class="text-white text-sm">Salvar e publicar</span>
        </button>
      </div>

      @if(successMessage) {
      <p class="font-bold text-green-500" role="status">{{ successMessage }}</p>
      }
    </div>
  </div>
</form>